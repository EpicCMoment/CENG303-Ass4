import java.util.ArrayList;

public class Main {

    public static void main(String[] args){

        int[][] horizontal = {
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                {0,1,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,0,1,0},
                {0,0,1,0,0,1,1,0,1,0,0,1,0,0,0,0,0,1,0,0},
                {0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1},
                {1,1,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,0},
                {0,1,1,1,1,1,0,0,1,1,0,1,1,1,1,0,0,0,0,0},
                {1,0,0,0,1,0,0,1,1,0,1,0,1,1,1,1,1,1,1,0},
                {0,1,0,0,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,0},
                {1,0,1,1,0,0,1,1,0,0,0,1,0,1,0,1,0,0,1,0},
                {0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,1,0,0,0},
                {0,1,0,1,1,0,0,1,0,0,1,1,0,0,0,1,0,0,0,0},
                {1,0,0,0,0,1,0,0,1,1,0,1,1,0,1,1,1,1,1,0},
                {1,1,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,0,0,1},
                {0,0,0,1,0,1,1,1,1,0,1,1,0,0,0,0,1,0,0,0},
                {0,0,0,0,1,1,0,0,0,1,0,0,1,0,1,1,1,0,0,0},
                {0,0,0,1,0,1,1,1,1,0,0,0,0,1,1,1,0,1,0,0},
                {0,0,0,1,0,1,1,1,1,0,0,0,0,1,1,1,0,1,0,0},
                {0,1,0,1,1,0,1,1,1,1,0,1,1,1,1,0,1,0,1,0},
                {0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,1,1,1,0,0},
                {1,0,0,1,0,0,1,0,0,1,1,1,0,1,1,0,1,1,0,0},
                {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
        };


        int[][] vertical = {
                {1,0,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0,1,0,0,1},
                {1,1,0,1,1,1,0,1,0,0,0,1,0,1,1,0,1,1,0,1,1},
                {1,1,0,0,1,1,0,0,1,0,1,1,0,1,1,1,0,1,0,1,1},
                {1,0,0,1,1,1,1,0,0,1,1,0,0,0,1,0,1,1,1,0,1},
                {1,0,1,0,0,0,1,1,1,0,1,0,0,0,0,1,1,1,1,1,1},
                {1,0,1,0,1,0,1,1,0,0,1,0,1,0,0,0,1,0,1,0,1},
                {1,0,1,1,0,0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1},
                {1,0,0,1,0,0,1,1,0,1,1,0,1,0,0,1,0,1,0,0,1},
                {1,0,1,0,1,1,1,0,1,0,0,1,0,0,1,0,0,1,1,1,1},
                {1,0,1,0,1,1,1,1,1,0,0,1,0,1,0,1,1,0,1,1,1},
                {1,0,1,0,1,0,1,1,0,1,0,0,0,1,1,0,0,1,0,1,1},
                {1,0,1,1,1,1,0,1,1,0,0,1,0,1,1,0,0,0,1,0,1},
                {1,0,1,1,1,1,0,0,1,0,1,0,1,1,1,1,0,1,1,1,1},
                {1,1,1,1,0,1,0,0,1,0,1,1,0,1,0,1,0,0,1,1,1},
                {1,1,1,0,1,0,0,1,0,0,1,1,0,1,0,0,0,1,1,1,1},
                {1,1,1,0,0,1,0,0,0,0,1,0,1,0,0,0,1,0,1,0,1},
                {1,0,1,1,0,1,1,0,1,0,1,1,0,0,1,0,0,1,0,1,1},
                {1,1,1,0,1,1,0,1,1,1,0,0,1,0,1,0,0,0,1,1,1},
                {1,0,1,0,1,0,1,1,1,0,1,0,0,1,0,0,0,1,0,1,1},
                {1,0,1,0,1,0,1,1,1,0,1,0,0,1,0,0,0,1,0,1,1}
        };

        Graph graph = new Graph(20,20);
        graph.generate(horizontal, vertical);

        ArrayList<GraphNode> path = DFSSolver.solve(graph);

        System.out.println(path.size());

        graph.display();
    }
}
